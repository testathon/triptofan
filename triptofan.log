/*C2*/SET SCHEMA PUBLIC
alter table event drop constraint FK_enlhssl41oc620hlckunk8les
alter table event_cost drop constraint FK_mwqchpr8ynrq8vepsfk6qxrb1
alter table event_tags drop constraint FK_d8ec1b75e0w13s6n6y7e70fqv
alter table event_tags drop constraint FK_nwr6tyihprqb0gfsdk69nj5if
alter table itenerary_events drop constraint FK_kb4khrxq7p3eo5dyk8f8lurmv
alter table itenerary_events drop constraint FK_si7umcp04ydhtc8djvpeph82c
alter table trip_user_created_iteneries drop constraint FK_ddlgjo13iypk0abt1nrmp3ctd
alter table trip_user_created_iteneries drop constraint FK_iktlv9wwc40hrnesy5av5t0g3
alter table trip_user_favorite_iteneries drop constraint FK_4802hqgltl97ho6fhrxuyy2t6
alter table trip_user_favorite_iteneries drop constraint FK_4urwiglgg43bq9baiywwnyd9j
drop table event if exists
drop table event_cost if exists
drop table event_tags if exists
drop table itenerary if exists
drop table itenerary_events if exists
drop table location if exists
drop table tag if exists
drop table trip_user if exists
drop table trip_user_created_iteneries if exists
drop table trip_user_favorite_iteneries if exists
create table event (id bigint generated by default as identity (start with 1), name varchar(255), summary varchar(255), version integer, location bigint, primary key (id))
create table event_cost (event bigint not null, cost integer)
create table event_tags (event bigint not null, tags bigint not null)
create table itenerary (id bigint generated by default as identity (start with 1), name varchar(255), version integer, primary key (id))
create table itenerary_events (itenerary bigint not null, events bigint not null)
create table location (id bigint generated by default as identity (start with 1), addr_line1 varchar(255), addr_line2 varchar(255), city varchar(255), name varchar(255), state_code varchar(255), version integer, zip varbinary(255), primary key (id))
create table tag (id bigint generated by default as identity (start with 1), subject varchar(255), version integer, primary key (id))
create table trip_user (id bigint generated by default as identity (start with 1), email varchar(255), name varchar(255), password varchar(255), version integer, primary key (id))
create table trip_user_created_iteneries (trip_user bigint not null, created_iteneries bigint not null)
create table trip_user_favorite_iteneries (trip_user bigint not null, favorite_iteneries bigint not null)
alter table event add constraint FK_enlhssl41oc620hlckunk8les foreign key (location) references location
alter table event_cost add constraint FK_mwqchpr8ynrq8vepsfk6qxrb1 foreign key (event) references event
alter table event_tags add constraint FK_d8ec1b75e0w13s6n6y7e70fqv foreign key (tags) references tag
alter table event_tags add constraint FK_nwr6tyihprqb0gfsdk69nj5if foreign key (event) references event
alter table itenerary_events add constraint FK_kb4khrxq7p3eo5dyk8f8lurmv foreign key (events) references event
alter table itenerary_events add constraint FK_si7umcp04ydhtc8djvpeph82c foreign key (itenerary) references itenerary
alter table trip_user_created_iteneries add constraint FK_ddlgjo13iypk0abt1nrmp3ctd foreign key (created_iteneries) references itenerary
alter table trip_user_created_iteneries add constraint FK_iktlv9wwc40hrnesy5av5t0g3 foreign key (trip_user) references trip_user
alter table trip_user_favorite_iteneries add constraint FK_4802hqgltl97ho6fhrxuyy2t6 foreign key (favorite_iteneries) references itenerary
alter table trip_user_favorite_iteneries add constraint FK_4urwiglgg43bq9baiywwnyd9j foreign key (trip_user) references trip_user
INSERT INTO ITENERARY VALUES(1,'Perfect Day in KC',0)
COMMIT
